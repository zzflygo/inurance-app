# 功能需求文档

## 1. 项目概述
该项目是一个保险理财应用，允许用户根据不同的保险产品类型计算保费、查看回报、管理保单，并生成 PDF 或生成可分享的链接。系统分为两个主要角色：普通用户和管理员。普通用户可以进行保险查询和计算，管理员则可以管理保险产品和用户信息。

## 2. 功能概述
### 2.1. 用户管理
- **注册**：用户可以创建新账户，输入姓名、邮箱和密码等基本信息。
- **登录**：用户通过邮箱和密码登录系统，成功后可以访问保险查询、保费计算等功能。
- **身份验证**：通过 JWT 实现用户身份认证，确保安全登录和访问权限。
- **权限控制**：
  - 普通用户：只能查询保险和进行计算。
  - 管理员：可以管理用户、保险产品，查看所有保单信息。

### 2.2. 保险管理
- **保险产品列表**：用户可以查看系统中所有可用的保险产品（如：人寿保险、健康保险、养老保险等）。
- **保险产品详情**：每个保险产品展示详细信息：保费标准、回报率、投保年限等。用户可以根据自己的需求选择相应的保险产品。

### 2.3. 保险计算
- **输入参数**：用户输入保费金额、投保年限、预计回报率等基本数据。
- **计算公式**：系统根据预设的公式，计算出每年的费用、投保回报、总回报等信息。
- **实时显示结果**：用户输入信息后，系统立即计算并显示结果。

### 2.4. PDF 生成与分享
- **生成 PDF**：用户可以将保险的计算结果生成 PDF 文件。
- **分享链接**：系统生成一个唯一的分享链接，允许用户将保险数据分享给其他人，分享链接有效期为7天。

### 2.5. 后台管理（仅管理员可见）
- **用户管理**：管理员可以查看所有用户，更新或删除用户信息。管理员可以重置用户密码。
- **保险产品管理**：管理员可以添加、修改和删除保险产品。管理员可以查看所有保险的计算记录和历史保单。

## 3. 用户场景描述
### 3.1. 普通用户
- **用户注册与登录**：用户通过注册页面创建新账户，登录后，进入保险产品页面，查看可用的保险产品列表。
- **保险查询与计算**：用户选择一个保险产品，输入投保金额、投保年限，系统自动计算并显示保费和回报。
- **生成 PDF 与分享**：用户可以选择生成 PDF 并下载保单，或生成分享链接发送给他人。

### 3.2. 管理员
- **用户管理**：管理员通过管理面板，查看所有用户信息。管理员可以编辑用户的权限或删除用户账户。
- **保险产品管理**：管理员可以在后台添加新的保险产品，或者编辑现有的产品。

## 4. 系统需求
- **身份验证**：使用 JWT 实现用户登录状态的管理。
- **数据库设计**：使用 PostgreSQL 存储用户信息、保险产品和计算记录。
- **API 接口**：提供 REST API，用于前端调用，处理用户操作。
- **前端技术栈**：React.js 和 React Native 用于构建网页和移动端应用。
- **后端技术栈**：Go 语言用于构建 REST API。
- **PDF 生成**：使用 Go 中的 PDF 库生成保险信息的 PDF 文件。
- **分享链接**：每个生成的分享链接需要一个唯一标识，并设置有效期。

